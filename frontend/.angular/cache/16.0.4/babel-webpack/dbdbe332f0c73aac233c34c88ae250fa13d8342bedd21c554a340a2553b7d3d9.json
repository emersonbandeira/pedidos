{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction OrderDetailsComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function OrderDetailsComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.editOrder());\n    });\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass OrderDetailsComponent {\n  constructor(route, http, router) {\n    this.route = route;\n    this.http = http;\n    this.router = router;\n    this.order = {};\n    this.editing = false;\n  }\n  ngOnInit() {\n    console.log('OrderDetailsComponent');\n    this.getOrder();\n  }\n  getOrder() {\n    const orderId = this.route.snapshot.paramMap.get('id');\n    console.log('get Order ()...' + this.editing);\n    console.log(orderId);\n    this.http.get('http://localhost:3000/api/orders/' + orderId).subscribe(data => {\n      this.order = data;\n    });\n  }\n  deleteOrder() {\n    const orderId = this.route.snapshot.paramMap.get('id');\n    this.http.delete('http://localhost:3000/api/orders/${orderId}').subscribe(() => {\n      this.router.navigate(['/orders']);\n    });\n  }\n  goBack() {\n    history.back();\n  }\n  editOrder() {\n    this.editing = true;\n  }\n  saveOrder() {\n    const orderId = this.route.snapshot.paramMap.get('id');\n    this.http.put('http://localhost:3000/api/orders/${orderId}', this.order).subscribe(() => {\n      this.editing = false;\n    });\n  }\n  cancelEditOrder() {\n    this.editing = false;\n    this.getOrder();\n  }\n}\nOrderDetailsComponent.ɵfac = function OrderDetailsComponent_Factory(t) {\n  return new (t || OrderDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i1.Router));\n};\nOrderDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrderDetailsComponent,\n  selectors: [[\"app-order-details\"]],\n  decls: 20,\n  vars: 5,\n  consts: [[\"type\", \"text\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [3, \"ngModel\", \"disabled\", \"ngModelChange\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"]],\n  template: function OrderDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Detalhes do pedido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\")(3, \"label\");\n      i0.ɵɵtext(4, \"Titulo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderDetailsComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.order.title = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\")(7, \"label\");\n      i0.ɵɵtext(8, \"Descri\\u00E7\\u00E3o:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"textarea\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function OrderDetailsComponent_Template_textarea_ngModelChange_9_listener($event) {\n        return ctx.order.description = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\");\n      i0.ɵɵtemplate(11, OrderDetailsComponent_button_11_Template, 2, 0, \"button\", 2);\n      i0.ɵɵelementStart(12, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function OrderDetailsComponent_Template_button_click_12_listener() {\n        return ctx.saveOrder();\n      });\n      i0.ɵɵtext(13, \"Salvar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function OrderDetailsComponent_Template_button_click_14_listener() {\n        return ctx.cancelEditOrder();\n      });\n      i0.ɵɵtext(15, \"Cancelar edi\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function OrderDetailsComponent_Template_button_click_16_listener() {\n        return ctx.deleteOrder();\n      });\n      i0.ɵɵtext(17, \"Excluir\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function OrderDetailsComponent_Template_button_click_18_listener() {\n        return ctx.goBack();\n      });\n      i0.ɵɵtext(19, \"Voltar\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.title)(\"disabled\", !ctx.editing);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.order.description)(\"disabled\", !ctx.editing);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.editing);\n    }\n  },\n  dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n  styles: [\"h2[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    margin-bottom: 16px;\\n  }\\n  \\n  div[_ngcontent-%COMP%] {\\n    margin-bottom: 8px;\\n  }\\n  \\n  label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 4px;\\n  }\\n  \\n  span[_ngcontent-%COMP%] {\\n    font-weight: bold;\\n  }\\n\\n  button[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    color: #fff;\\n    border: none;\\n    padding: 8px 16px;\\n    border-radius: 4px;\\n    cursor: pointer;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0056b3;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxlQUFlO0lBQ2YsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0Usa0JBQWtCO0VBQ3BCOztFQUVBO0lBQ0UsY0FBYztJQUNkLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsZUFBZTtFQUNqQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQiIsInNvdXJjZXNDb250ZW50IjpbImgyIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTZweDtcbiAgfVxuICBcbiAgZGl2IHtcbiAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIH1cbiAgXG4gIGxhYmVsIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gIH1cbiAgXG4gIHNwYW4ge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG4gIFxuICBidXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XG4gIH1cbiAgXG4gIFxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { OrderDetailsComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","OrderDetailsComponent_button_11_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","editOrder","ɵɵtext","ɵɵelementEnd","OrderDetailsComponent","constructor","route","http","router","order","editing","ngOnInit","console","log","getOrder","orderId","snapshot","paramMap","get","subscribe","data","deleteOrder","delete","navigate","goBack","history","back","saveOrder","put","cancelEditOrder","ɵɵdirectiveInject","i1","ActivatedRoute","i2","HttpClient","Router","selectors","decls","vars","consts","template","OrderDetailsComponent_Template","rf","ctx","OrderDetailsComponent_Template_input_ngModelChange_5_listener","$event","title","OrderDetailsComponent_Template_textarea_ngModelChange_9_listener","description","ɵɵtemplate","OrderDetailsComponent_button_11_Template","OrderDetailsComponent_Template_button_click_12_listener","OrderDetailsComponent_Template_button_click_14_listener","OrderDetailsComponent_Template_button_click_16_listener","OrderDetailsComponent_Template_button_click_18_listener","ɵɵadvance","ɵɵproperty"],"sources":["/home/mmdev/projetos/pedidos/frontend/src/app/order-details/order-details.component.ts","/home/mmdev/projetos/pedidos/frontend/src/app/order-details/order-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\n\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.component.html',\n  styleUrls: ['./order-details.component.css']\n})\n\nexport class OrderDetailsComponent implements OnInit {\n\n  order: any = {};\n\n  editing = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private http: HttpClient,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    console.log('OrderDetailsComponent');\n    this.getOrder();\n  }\n\n  getOrder() { \n    const orderId = this.route.snapshot.paramMap.get('id'); \n    console.log('get Order ()...' + this.editing);\n    console.log(orderId);\n    this.http.get<any>('http://localhost:3000/api/orders/' + orderId ).subscribe((data) => { \n      this.order = data; \n    }); \n  }\n\n  deleteOrder() {\n    const orderId = this.route.snapshot.paramMap.get('id');\n    this.http.delete<any>('http://localhost:3000/api/orders/${orderId}').subscribe(() => {\n    this.router.navigate(['/orders']);\n    });\n  }\n\n  goBack(){\n    history.back();\n  }\n\n  editOrder() {\n    this.editing = true;\n  }\n\n  saveOrder() {\n    const orderId = this.route.snapshot.paramMap.get('id');\n    this.http.put<any>('http://localhost:3000/api/orders/${orderId}', this.order).subscribe(() => {\n      this.editing = false;\n    });\n  }\n\n  cancelEditOrder(): void {\n    this.editing = false;\n    this.getOrder();\n  }\n \n}\n","<h2>Detalhes do pedido</h2>\n<div>\n    <label>Titulo:</label>\n    <input type=\"text\" [(ngModel)]=\"order.title\" [disabled]=\"!editing\">\n</div>\n<div>\n    <label>Descrição:</label>\n    <textarea [(ngModel)]=\"order.description\" [disabled]=\"!editing\"></textarea>\n</div>\n<div>\n    <button (click)=\"editOrder()\" *ngIf=\"editing\" >Editar</button>\n    <button (click)=\"saveOrder()\">Salvar</button>\n    <button (click)=\"cancelEditOrder()\" >Cancelar edição</button>    \n    <button (click)=\"deleteOrder()\">Excluir</button>\n    <button (click)=\"goBack()\">Voltar</button>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}